{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\andrew.martinez\\\\Desktop\\\\Probar projecto\\\\tareas-iniciales-crear-aplicacion-react\\\\frontend\\\\src\\\\components\\\\formLogin.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport Link from 'next/link';\n\nvar SimLogin = /*#__PURE__*/function (_Component) {\n  _inherits(SimLogin, _Component);\n\n  var _super = _createSuper(SimLogin);\n\n  function SimLogin(props) {\n    var _this;\n\n    _classCallCheck(this, SimLogin);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      valid: true,\n      email: '',\n      password: '',\n      registrationErrors: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSumbit = _this.handleSumbit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SimLogin, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"handleSumbit\",\n    value: function handleSumbit(e) {\n      e.preventDefault();\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      axios.post('http://localhost:8000/login', {\n        \"email\": this.state.email,\n        \"passwd\": this.state.password\n      }).then(function (Response) {\n        console.log(\"post realizado correctamente\", Response);\n        var verificar;\n        var test = true;\n\n        try {\n          verificar = Response.data.found;\n        } catch (_unused) {\n          test = false;\n        }\n\n        if (test == false) {\n          var rol = Response.data.Rol;\n\n          if (rol == \"CUSTOMER\") {\n            console.log(rol);\n          }\n        }\n      })[\"catch\"](function (error) {\n        console.log(\"Â¿QUE QUERES?\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formLogin\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSumbit,\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Ingreso\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"inputIngreso\",\n              autoComplete: \"off\",\n              type: \"email\",\n              name: \"email\",\n              value: this.state.email,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Contrase\\xF1a *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"inputIngreso\",\n              autoComplete: \"off\",\n              type: \"password\",\n              name: \"password\",\n              value: this.state.password,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/empty\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"recContr\",\n                children: \" Recuperar contrase\\xF1a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 43\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/registro\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: this.valid,\n                className: \"btnPrimario\",\n                type: \"submit\",\n                children: \" Ingresar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/registro\",\n            target: \"_blank\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btnSecundario\",\n              children: \"Registrarse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return SimLogin;\n}(Component);\n\nexport default SimLogin;","map":{"version":3,"sources":["C:/Users/andrew.martinez/Desktop/Probar projecto/tareas-iniciales-crear-aplicacion-react/frontend/src/components/formLogin.js"],"names":["React","Component","Fragment","axios","Link","SimLogin","props","state","valid","email","password","registrationErrors","handleChange","bind","handleSumbit","e","setState","target","name","value","preventDefault","post","then","Response","console","log","verificar","test","data","found","rol","Rol","error"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport Link from 'next/link'\r\nclass SimLogin extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            valid: true,\r\n            email: '',\r\n            password: '',\r\n            registrationErrors: ''\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSumbit = this.handleSumbit.bind(this)\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSumbit(e) {\r\n        e.preventDefault();\r\n        const {\r\n            email,\r\n            password,\r\n        } = this.state;\r\n\r\n        axios.post('http://localhost:8000/login', {\r\n            \"email\":  this.state.email ,\r\n            \"passwd\": this.state.password ,\r\n        },\r\n        )\r\n            .then(Response => {\r\n                console.log(\"post realizado correctamente\", Response)\r\n\r\n                let verificar\r\n                let test = true\r\n                try {\r\n                    verificar = Response.data.found;\r\n        \r\n                } catch {\r\n                    test = false\r\n                }\r\n               if (test == false) {\r\n                    let rol = Response.data.Rol;\r\n                    \r\n                    if (rol == \"CUSTOMER\") {\r\n                        console.log(rol)\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Â¿QUE QUERES?\", error)\r\n            });\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div className=\"formLogin\">\r\n                    <form onSubmit={this.handleSumbit}>\r\n                        <h1>Ingreso</h1>\r\n                        <p>Email *</p>\r\n                        <input className=\"inputIngreso\"\r\n                            autoComplete=\"off\"\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <p>ContraseÃ±a *</p>\r\n                        <input className=\"inputIngreso\"\r\n                            autoComplete=\"off\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <a href=\"/empty\" ><p className=\"recContr\"> Recuperar contraseÃ±a</p></a>\r\n                        <a href=\"/registro\" ><button disabled={this.valid} className=\"btnPrimario\" type=\"submit\"> Ingresar</button></a>\r\n                    </form><br />\r\n                    <a href=\"/registro\" target=\"_blank\"><button className=\"btnSecundario\">Registrarse</button></a>\r\n                </div>\r\n            </Fragment>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SimLogin;\r\n"]},"metadata":{},"sourceType":"module"}